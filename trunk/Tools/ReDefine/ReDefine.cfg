#
# ReDefine configuration
#

# [ReDefine]
#
# HeadersDir = <path>
# ScriptsDir = <path>
#
[ReDefine]
HeadersDir = ../../Fallout2/Fallout1Port/Mapper/source/scripts/headers
ScriptsDir = ../../Fallout2/Fallout1Port/Mapper/source/scripts

# [Defines]
# Assigns names to defines types
#
# <type> = <path> <prefix> (group)
#
#   type     name for given value type
#   path     path to file containing interesting defines (relative to [ReDefine]->ScriptsDir)
#   prefix   required prefix for interesting defines
#   group    optional; allows to group multiple types under single name
#
[Defines]
AI = aipacket.h AI
ANIM = animcomd.h ANIM
AREA = maps.h AREA
CRITTER_PID = critpid.h PID - ANY_PID
DMG = define.h DMG
FID = artfid.h FID
GENDER = define.h GENDER
GVAR = global.h GVAR
INVEN_TYPE = define.h INVEN_TYPE
ITEM_PID = itempid.h PID - ANY_PID
MAP = maps.h MAP
METARULE = define.h METARULE
OBJECT = define.h OBJECT
PCSTAT = define.h PCSTAT
PERK = define.h PERK
REACTION = define.h - REACTION
SCENERY_PID = scenepid.h PID - ANY_PID
SID = scripts.h SCRIPT
SKILL = define.h SKILL
STAT = define.h STAT
TEAM = teams.h TEAM
# needs to be in two separate files, as they share same prefix
TRAIT_TYPE = fo1.h TRAIT
TRAIT = define.h TRAIT

# [Defines:TYPE]
# Creates program-specific defines
#
# <value> = <name>
#

# Do not complain or change SID 0/-1
[Defines:SID]
0 = 0
-1 = -1

# [Variable]
# ???
#
# <name> = <type>
#
#   name   variable name
#   type   name for given value type
#
[Variable]
Critter_script = SID
Critter_type = CRITTER_PID
cur_map_index = MAP
cur_town = AREA
dude_gender = GENDER
self_ai = AI
self_gender = GENDER
self_pid = ANY_PID
self_team = TEAM

# [VariableGuess]
#
# VariableGuess = <types list>
#
[VariableGuess]
VariableGuess = SCENERY_PID

# [Function]
# ???
#
# <name> = <types list>
#
#   name         function name
#   types list   aguments types; if given argument shouldn't be checked/changed, use ? or ??? virtual types
#
[Function]
art_anim = [ANIM] ?
art_change_fid_num = ? FID
create_object = ANY_PID ? ?
create_object_sid  = ANY_PID ? ? SID
critter_add_trait = ? TRAIT_TYPE ?dynamic? ?dynamic?
critter_inven_obj = ? INVEN_TYPE
critter_skill_level = ? SKILL
critter_dmg = ? ? DMG
critter_mod_skill = ? SKILL ?
dude_item = ITEM_PID
dude_item_count = ITEM_PID
dude_perk = PERK
dude_trait = TRAIT
get_critter_stat = ? STAT
get_gender = [GENDER] ?
get_item_count = ? ITEM_PID
get_pc_stat = PCSTAT
get_perk = ? PERK
get_trait = ? TRAIT
giq_option = ? SID ? ? REACTION
global_var = GVAR
has_skill = ? SKILL
has_trait = TRAIT_TYPE ? ?dynamic?
kill_critter = ? ANIM
kill_critter_type = CRITTER_PID ?
load_map = MAP ?
message_str = SID ?
metarule = METARULE ?
obj_carrying_pid_obj = ? ITEM_PID
obj_is_carrying_obj_pid = ? ITEM_PID
obj_pid = [ANY_PID] ?
roll_vs_skill = ? SKILL ?
self_item = ITEM_PID
self_item_count = ITEM_PID
self_perk = PERK
self_trait = TRAIT
set_critter_stat = ? STAT ?
set_ai = ? AI
set_global_var = GVAR ?
set_self_ai = AI
set_self_team = TEAM
set_team = ? TEAM
using_skill = ? SKILL

# [Raw]
# Replaces all occurences of raw text
#
# <from> = <to>
#
#   from   text to search
#   to     replacement
#
[Raw]
SKILL_CONVERSANT = SKILL_SPEECH
STAT_max_hit_points = STAT_max_hp

[Script:Setup:CritterAddTrait]
#
# edited very early due to arguments depending on each other
# standard replacements won't be able to process function properly without this setup
#
AI = RunBefore:3 IfFunction:critter_add_trait IfArgumentIs:1,TRAIT_OBJECT IfArgumentIs:2,OBJECT_AI_PACKET DoArgumentSetType:3,AI
Object = RunBefore:1 IfFunction:critter_add_trait IfArgumentIs:1,TRAIT_OBJECT DoArgumentSetType:2,OBJECT
Perk = RunBefore:0 IfFunction:critter_add_trait IfArgumentIs:1,TRAIT_PERK DoArgumentSetType:2,PERK
Team = RunBefore:4 IfFunction:critter_add_trait IfArgumentIs:1,TRAIT_OBJECT IfArgumentIs:2,OBJECT_TEAM_NUM DoArgumentSetType:3,TEAM
Trait = RunBefore:2 IfFunction:critter_add_trait IfArgumentIs:1,TRAIT_TRAIT DoArgumentSetType:2,TRAIT

[Script:Setup:HasTrait]
#
# edited verly early due to arguments depending on each other
# standard replacements won't be able to process function properly without this setup
#
Object = RunBefore:1 IfFunction:has_trait IfArgumentIs:0,TRAIT_OBJECT DoArgumentSetType:2,OBJECT
Perk = RunBefore:0 IfFunction:has_trait IfArgumentIs:0,TRAIT_PERK DoArgumentSetType:2,PERK
Trait = RunBefore:2 IfFunction:has_trait IfArgumentIs:0,TRAIT_TRAIT DoArgumentSetType:2,TRAIT

[Script:Humanize:Metarule]
#
# edited early, as other parts of config might want to process results
#
SignalEndGame = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_SIGNAL_END_GAME DoVariable:signal_end_game
MapFirstRun = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_TEST_FIRSTRUN DoVariable:map_first_run
Elevator = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_ELEVATOR DoNameSet:elevator DoArgumentsErase:0
PartyMemberCount = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_PARTY_COUNT DoNameSet:party_member_count DoArgumentsErase:0
TownKnown = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_AREA_KNOWN DoNameSet:town_known DoArgumentsErase:0
DrugInfluence = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_WHO_ON_DRUGS DoNameSet:drug_influence DoArgumentsErase:0
MapIsKnown = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_MAP_KNOWN DoNameSet:map_is_known DoArgumentsErase:0
IsLoadingGame = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_IS_LOADGAME DoVariable:is_loading_game
CarCurrentTown = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_CAR_CURRENT_TOWN DoVariable:car_current_town
CarGiveToParty = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_GIVE_CAR_TO_PARTY DoVariable:car_give_to_party
CarGiveGas = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_GIVE_CAR_GAS DoNameSet:car_give_gas DoArgumentsErase:0
IsSkillTagged = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_SKILL_CHECK_TAG DoNameSet:is_skill_tagged DoArgumentsErase:0
ObjDropEverything = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_DROP_ALL_INVEN DoNameSet:obj_drop_everything DoArgumentsErase:0
InvenUnwield = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_INVEN_UNWIELD_WHO DoNameSet:inven_unwield DoArgumentsErase:0
WorldmapXpos = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_GET_WORLDMAP_XPOS DoVariable:worldmap_xpos
WorldmapYpos = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_GET_WORLDMAP_YPOS DoVariable:worldmap_ypos
CurTown = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_CURRENT_TOWN DoVariable:cur_town
LanguageFilterIsOn = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_LANGUAGE_FILTER DoVariable:language_filter_is_on
ViolenceFilterSetting = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_VIOLENCE_FILTER DoVariable:violence_filter_setting
WeaponDmgType = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_W_DAMAGE_TYPE DoNameSet:weapon_dmg_type DoArgumentsErase:0
CritterCanBarter = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_CRITTER_BARTERS DoNameSet:critter_can_barter DoArgumentsErase:0
CritterKillType = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_CRITTER_KILL_TYPE DoNameSet:critter_kill_type DoArgumentsErase:0
SetCarCarryAmount = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_SET_CAR_CARRY_AMOUNT DoNameSet:set_car_carry_amount DoArgumentsErase:0
CarCarryAmount = RunAfter:10 IfFunction:metarule IfArgumentIs:0,METARULE_GET_CAR_CARRY_AMOUNT DoVariable:car_carry_amount DoArgumentsErase:0

[Script:Minimize]
#
# one-liners
#
AttackComplex = RunAfter IfFunction:attack_complex IfArgumentValue:1,0 IfArgumentValue:2,1 IfArgumentValue:3,0 IfArgumentValue:4,0 IfArgumentValue:5,30000 IfArgumentValue:6,0 IfArgumentValue:7,0 DoNameSet:attack DoArgumentsResize:1
CreateObjectSid = RunAfter:50 IfFunction:create_object_sid IfArgumentValue:3,-1 DoNameSet:create_object DoArgumentsResize:3
CritterSkillLevel = RunAfter IfFunction:CRITTER_SKILL_LEVEL,critter_skill_level DoNameSet:has_skill
DudeLevel = RunAfter IfFunction:get_critter_stat IfArgumentIs:0,PCSTAT_level DoVariable:dude_level

[Script:Minimize:ArtAnim]
DudeIsRunning = RunAfter IfFunction:art_anim IfArgumentValue:0,dude_fid IfOperatorName:Equals IfOperatorValue:ANIM_running DoVariable:dude_is_running DoOperatorClear
DudeIsWalking = RunAfter IfFunction:art_anim IfArgumentValue:0,dude_fid IfOperatorName:Equals IfOperatorValue:ANIM_walk DoVariable:dude_is_walking DoOperatorClear
SelfIsRunning = RunAfter IfFunction:art_anim IfArgumentValue:0,self_fid IfOperatorName:Equals IfOperatorValue:ANIM_running DoVariable:self_is_running DoOperatorClear
SelfIsWalking = RunAfter IfFunction:art_anim IfArgumentValue:0,self_fid IfOperatorName:Equals IfOperatorValue:ANIM_walk DoVariable:self_is_walking DoOperatorClear

[Script:Minimize:CritterAddTrait]
#
# set_ai/set_team
#
SetAI   = RunAfter IfFunction:critter_add_trait IfArgumentIs:1,TRAIT_OBJECT IfArgumentIs:2,OBJECT_AI_PACKET DoNameSet:set_ai DoArgumentsErase:2 DoArgumentsErase:1
SetTeam = RunAfter IfFunction:critter_add_trait IfArgumentIs:1,TRAIT_OBJECT IfArgumentIs:2,OBJECT_TEAM_NUM DoNameSet:set_team DoArgumentsErase:2 DoArgumentsErase:1
#
# set_self_ai/set_self_team
#
SetSelfAI   = RunAfter IfFunction:set_ai IfArgumentValue:0,self_obj DoNameSet:set_self_ai DoArgumentsErase:0
SetSelfTeam = RunAfter IfFunction:set_team IfArgumentValue:0,self_obj DoNameSet:set_self_team DoArgumentsErase:0

[Script:Minimize:CritterInvenObj]
InvenCount = RunAfter IfFunction:critter_inven_obj IfArgumentIs:1,INVEN_TYPE_INV_COUNT DoNameSet:inven_count DoArgumentsResize:1
#
# get_GEAR
#
GetLeftHand = RunAfter IfFunction:critter_inven_obj IfArgumentIs:1,INVEN_TYPE_LEFT_HAND DoNameSet:get_left_hand DoArgumentsResize:1
GetRightHand = RunAfter IfFunction:critter_inven_obj IfArgumentIs:1,INVEN_TYPE_RIGHT_HAND DoNameSet:get_right_hand DoArgumentsResize:1
GetArmor = RunAfter IfFunction:critter_inven_obj IfArgumentIs:1,INVEN_TYPE_WORN DoNameSet:get_armor DoArgumentsResize:1
#
# dude_GEAR
#
DudeLeftHand = RunAfter IfFunction:get_left_hand IfArgumentValue:0,dude_obj DoVariable:dude_left_hand
DudeRightHand = RunAfter IfFunction:get_right_hand IfArgumentValue:0,dude_obj DoVariable:dude_right_hand
DudeArmor = RunAfter IfFunction:get_armor IfArgumentValue:0,dude_obj DoVariable:dude_armor
#
# self_GEAR
#
SelfLeftHand = RunAfter IfFunction:get_left_hand IfArgumentValue:0,self_obj DoVariable:self_left_hand
SelfRightHand = RunAfter IfFunction:get_right_hand IfArgumentValue:0,self_obj DoVariable:self_right_hand
SelfArmor = RunAfter IfFunction:get_armor IfArgumentValue:0,self_obj DoVariable:self_armor

[Script:Minimize:CurMapIndex]
CurMapDesert0 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESERT0 DoNameSet:CUR_MAP_DESERT0 DoOperatorClear
CurMapDesert1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESERT1 DoNameSet:CUR_MAP_DESERT1 DoOperatorClear
CurMapDesert2 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESERT2 DoNameSet:CUR_MAP_DESERT2 DoOperatorClear
CurMapDesert3 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESERT3 DoNameSet:CUR_MAP_DESERT3 DoOperatorClear
CurMapHallDed = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HALLDED DoNameSet:CUR_MAP_HALLDED DoOperatorClear
CurMapHotel = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HOTEL DoNameSet:CUR_MAP_HOTEL DoOperatorClear
CurMapWatrShd = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_WATRSHD DoNameSet:CUR_MAP_WATRSHD DoOperatorClear
CurMapVault13 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_VAULT13 DoNameSet:CUR_MAP_VAULT13 DoOperatorClear
CurMapVaultEnt = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_VAULTENT DoNameSet:CUR_MAP_VAULTENT DoOperatorClear
CurMapVaultBur = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_VAULTBUR DoNameSet:CUR_MAP_VAULTBUR DoOperatorClear
CurMapVaultNec = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_VAULTNEC DoNameSet:CUR_MAP_VAULTNEC DoOperatorClear
CurMapJunkEnt = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_JUNKENT DoNameSet:CUR_MAP_JUNKENT DoOperatorClear
CurMapJunkCsno = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_JUNKCSNO DoNameSet:CUR_MAP_JUNKCSNO DoOperatorClear
CurMapJunkKill = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_JUNKKILL DoNameSet:CUR_MAP_JUNKKILL DoOperatorClear
CurMapBrohdEnt = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_BROHDENT DoNameSet:CUR_MAP_BROHDENT DoOperatorClear
CurMapBrohd12 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_BROHD12 DoNameSet:CUR_MAP_BROHD12 DoOperatorClear
CurMapBrohd34 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_BROHD34 DoNameSet:CUR_MAP_BROHD34 DoOperatorClear
CurMapCaves = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_CAVES DoNameSet:CUR_MAP_CAVES DoOperatorClear
CurMapChildrn1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_CHILDRN1 DoNameSet:CUR_MAP_CHILDRN1 DoOperatorClear
CurMapChildrn2 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_CHILDRN2 DoNameSet:CUR_MAP_CHILDRN2 DoOperatorClear
CurMapCity1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_CITY1 DoNameSet:CUR_MAP_CITY1 DoOperatorClear
CurMapCoast1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_COAST1 DoNameSet:CUR_MAP_COAST1 DoOperatorClear
CurMapCoast2 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_COAST2 DoNameSet:CUR_MAP_COAST2 DoOperatorClear
CurMapColaTruk = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_COLATRUK DoNameSet:CUR_MAP_COLATRUK DoOperatorClear
CurMapFsauser = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_FSAUSER DoNameSet:CUR_MAP_FSAUSER DoOperatorClear
CurMapRaiders = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_RAIDERS DoNameSet:CUR_MAP_RAIDERS DoOperatorClear
CurMapShadyE = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_SHADYE DoNameSet:CUR_MAP_SHADYE DoOperatorClear
CurMapShadyW = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_SHADYW DoNameSet:CUR_MAP_SHADYW DoOperatorClear
CurMapGlowEnt = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_GLOWENT DoNameSet:CUR_MAP_GLOWENT DoOperatorClear
CurMapLaAdytum = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_LAADYTUM DoNameSet:CUR_MAP_LAADYTUM DoOperatorClear
CurMapLaFollwr = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_LAFOLLWR DoNameSet:CUR_MAP_LAFOLLWR DoOperatorClear
CurMapMbEnt = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MBENT DoNameSet:CUR_MAP_MBENT DoOperatorClear
CurMapMbStrg12 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MBSTRG12 DoNameSet:CUR_MAP_MBSTRG12 DoOperatorClear
CurMapMbVats12 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MBVATS12 DoNameSet:CUR_MAP_MBVATS12 DoOperatorClear
CurMapMstrLr12 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MSTRLR12 DoNameSet:CUR_MAP_MSTRLR12 DoOperatorClear
CurMapMstrLr34 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MSTRLR34 DoNameSet:CUR_MAP_MSTRLR34 DoOperatorClear
CurMapV13Ent = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_V13ENT DoNameSet:CUR_MAP_V13ENT DoOperatorClear
CurMapHubEnt = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HUBENT DoNameSet:CUR_MAP_HUBENT DoOperatorClear
CurMapDethclaw = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DETHCLAW DoNameSet:CUR_MAP_DETHCLAW DoOperatorClear
CurMapHubDwntn = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HUBDWNTN DoNameSet:CUR_MAP_HUBDWNTN DoOperatorClear
CurMapHubHeigt = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HUBHEIGT DoNameSet:CUR_MAP_HUBHEIGT DoOperatorClear
CurMapHubOldtn = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HUBOLDTN DoNameSet:CUR_MAP_HUBOLDTN DoOperatorClear
CurMapHubWater = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HUBWATER DoNameSet:CUR_MAP_HUBWATER DoOperatorClear
CurMapGlow1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_GLOW1 DoNameSet:CUR_MAP_GLOW1 DoOperatorClear
CurMapGlow2 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_GLOW2 DoNameSet:CUR_MAP_GLOW2 DoOperatorClear
CurMapLaBlades = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_LABLADES DoNameSet:CUR_MAP_LABLADES DoOperatorClear
CurMapLaRipper = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_LARIPPER DoNameSet:CUR_MAP_LARIPPER DoOperatorClear
CurMapLaGunRun = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_LAGUNRUN DoNameSet:CUR_MAP_LAGUNRUN DoOperatorClear
CurMapChilDead = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_CHILDEAD DoNameSet:CUR_MAP_CHILDEAD DoOperatorClear
CurMapMbDead = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MBDEAD DoNameSet:CUR_MAP_MBDEAD DoOperatorClear
CurMapMountn1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MOUNTN1 DoNameSet:CUR_MAP_MOUNTN1 DoOperatorClear
CurMapMountn2 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MOUNTN2 DoNameSet:CUR_MAP_MOUNTN2 DoOperatorClear
CurMapFoot = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_FOOT DoNameSet:CUR_MAP_FOOT DoOperatorClear
CurMapTardis = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_TARDIS DoNameSet:CUR_MAP_TARDIS DoOperatorClear
CurMapTalkCow = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_TALKCOW DoNameSet:CUR_MAP_TALKCOW DoOperatorClear
CurMapUsedCar = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_USEDCAR DoNameSet:CUR_MAP_USEDCAR DoOperatorClear
CurMapBroDead = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_BRODEAD DoNameSet:CUR_MAP_BRODEAD DoOperatorClear
CurMapDesCrvn1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESCRVN1 DoNameSet:CUR_MAP_DESCRVN1 DoOperatorClear
CurMapDesCrvn2 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESCRVN2 DoNameSet:CUR_MAP_DESCRVN2 DoOperatorClear
CurMapMntCrvn1 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MNTCRVN1 DoNameSet:CUR_MAP_MNTCRVN1 DoOperatorClear
CurMapMntCrvn2 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MNTCRVN2 DoNameSet:CUR_MAP_MNTCRVN2 DoOperatorClear
CurMapDesCrvn3 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESCRVN3 DoNameSet:CUR_MAP_DESCRVN3 DoOperatorClear
CurMapMntCrvn3 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MNTCRVN3 DoNameSet:CUR_MAP_MNTCRVN3 DoOperatorClear
CurMapDesCrvn4 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_DESCRVN4 DoNameSet:CUR_MAP_DESCRVN4 DoOperatorClear
CurMapMntCrvn4 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_MNTCRVN4 DoNameSet:CUR_MAP_MNTCRVN4 DoOperatorClear
CurMapHubMis0 = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_HUBMIS0 DoNameSet:CUR_MAP_HUBMIS0 DoOperatorClear
CurMapRndDeser = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_RNDDESER DoNameSet:CUR_MAP_RNDDESER DoOperatorClear
CurMapRndMount = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_RNDMOUNT DoNameSet:CUR_MAP_RNDMOUNT DoOperatorClear
CurMapRndCity = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_RNDCITY DoNameSet:CUR_MAP_RNDCITY DoOperatorClear
CurMapRndCoast = RunAfter IfVariable:cur_map_index IfOperatorName:Equals IfOperatorValue:MAP_RNDCOAST DoNameSet:CUR_MAP_RNDCOAST DoOperatorClear

[Script:Minimize:CurTown]
CurAreaVault13 = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_VAULT_13 DoNameSet:CUR_AREA_VAULT_13 DoOperatorClear
Vault15 = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_VAULT_15 DoNameSet:CUR_AREA_VAULT_15 DoOperatorClear
CurAreaShadySands = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_SHADY_SANDS DoNameSet:CUR_AREA_SHADY_SANDS DoOperatorClear
CurAreaJunktown = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_JUNKTOWN DoNameSet:CUR_AREA_JUNKTOWN DoOperatorClear
CurAreaRaiders = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_RAIDERS DoNameSet:CUR_AREA_RAIDERS DoOperatorClear
CurAreaNecropolis = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_NECROPOLIS DoNameSet:CUR_AREA_NECROPOLIS DoOperatorClear
CurAreaHub = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_HUB DoNameSet:CUR_AREA_HUB DoOperatorClear
CurAreaBrotherhood = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_BROTHERHOOD DoNameSet:CUR_AREA_BROTHERHOOD DoOperatorClear
CurAreaMilitaryBase = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_MILITARY_BASE DoNameSet:CUR_AREA_MILITARY_BASE DoOperatorClear
CurAreaGlow = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_GLOW DoNameSet:CUR_AREA_GLOW DoOperatorClear
CurAreaBoneyard = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_BONEYARD DoNameSet:CUR_AREA_BONEYARD DoOperatorClear
CurAreaCathedral = RunAfter IfVariable:cur_town IfOperatorName:Equals IfOperatorValue:AREA_CATHEDRAL DoNameSet:CUR_AREA_CATHEDRAL DoOperatorClear

[Script:Minimize:Elevation]
DudeElevation = RunAfter IfFunction:elevation IfArgumentValue:0,dude_obj DoVariable:dude_elevation
SelfElevation = RunAfter IfFunction:elevation IfArgumentValue:0,self_obj DoVariable:self_elevation

[Script:Minimize:GetCritterStat]
#
# get_SPECIAL
#
GetStrength   = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_st DoNameSet:get_strength DoArgumentsResize:1
GetPerception = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_pe DoNameSet:get_perception DoArgumentsResize:1
GetEndurance  = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_en DoNameSet:get_endurance DoArgumentsResize:1
GetCharisma   = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_ch DoNameSet:get_charisma DoArgumentsResize:1
GetIQ         = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_iq DoNameSet:get_iq DoArgumentsResize:1
GetAgility    = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_ag DoNameSet:get_agility DoArgumentsResize:1
GetLuck       = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_lu DoNameSet:get_luck DoArgumentsResize:1
#
# get_HP
#
GetCurHp = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_current_hp DoNameSet:get_cur_hp DoArgumentsResize:1
GetMaxHp = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_max_hp DoNameSet:get_max_hp DoArgumentsResize:1
#
# get_rads
#
GetRads = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_current_rad DoNameSet:get_rads DoArgumentsResize:1
DudeRads = RunAfter:90 IfFunction:get_rads IfArgumentValue:0,dude_obj DoVariable:dude_rads
SelfRads = RunAfter:90 IfFunction:get_rads IfArgumentValue:0,self_obj DoVariable:self_rads

#
# get_poison_stat
#
GetPoisonStat = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_current_poison DoNameSet:get_poison_stat DoArgumentsResize:1
DudePoisonStat = RunAfter:90 IfFunction:get_poison_stat IfArgumentValue:0,dude_obj DoVariable:dude_poison_stat
SelfPoisonStat = RunAfter:90 IfFunction:get_poison_stat IfArgumentValue:0,self_obj DoVariable:self_poison_stat

#
# get_GENDER
#
GetGender      = RunAfter:90 IfFunction:get_critter_stat IfArgumentIs:1,STAT_gender DoNameSet:get_gender DoArgumentsResize:1
GetIsMale:EQ   = RunAfter:91 IfFunction:get_gender IfOperatorName:Equals IfOperatorValue:GENDER_MALE DoNameSet:get_is_male DoOperatorClear
GetIsMale:LT   = RunAfter:92 IfFunction:get_gender IfOperatorName:Lower IfOperatorValue:GENDER_FEMALE DoNameSet:get_is_male DoOperatorClear
GetIsMale:NE   = RunAfter:93 IfFunction:get_gender IfOperatorName:NotEquals IfOperatorValue:GENDER_FEMALE DoNameSet:get_is_male DoOperatorClear
GetIsFemale:EQ = RunAfter:91 IfFunction:get_gender IfOperatorName:Equals IfOperatorValue:GENDER_FEMALE DoNameSet:get_is_female DoOperatorClear
GetIsFemale:GT = RunAfter:92 IfFunction:get_gender IfOperatorName:Greater IfOperatorValue:GENDER_MALE DoNameSet:get_is_female DoOperatorClear
GetIsFemale:NE = RunAfter:93 IfFunction:get_gender IfOperatorName:NotEquals IfOperatorValue:GENDER_MALE DoNameSet:get_is_female DoOperatorClear

# BROKEN, DO NOT USE
#[Script:Minimize:GiqOption]
#G  = RunAfter IfFunction:giq_option IfArgumentIs:4,GOOD_REACTION IfFileDefined:NAME DoNameSet:GOption DoArgumentsResize:4 DoArgumentsMoveBack:0 DoArgumentsErase:0
#N  = RunAfter IfFunction:giq_option IfArgumentIs:4,NEUTRAL_REACTION IfFileDefined:NAME DoNameSet:NOption DoArgumentsResize:4 DoArgumentsMoveBack:0 DoArgumentsErase:0
#B  = RunAfter IfFunction:giq_option IfArgumentIs:4,BAD_REACTION IfFileDefined:NAME DoNameSet:BOption DoArgumentsResize:4 DoArgumentsMoveBack:0 DoArgumentsErase:0
# XOption() -> XLOption() not included
#Detect = RunAfter IfFunction:giq_Option IfNotEdited DoLogCurrentLine:DEBUG
#Detect = RunAfter IfFunction:giQ_option IfNotEdited DoLogCurrentLine:DEBUG
#Detect = RunAfter IfFunction:giQ_Option IfNotEdited DoLogCurrentLine:DEBUG

[Script:Minimize:GlobalVar]
#
# misc fo1.h macros
#
NecropolisWPumpFixed = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_NECROP_WATER_PUMP_FIXED IfOperatorName:Equals IfOperatorValue:2 DoVariable:necropolis_wpump_fixed DoOperatorClear
FollowersTrained = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_SLIDE_TRAIN_FOLLOWERS IfOperatorName:Equals IfOperatorValue:1 DoVariable:followers_trained DoOperatorClear
GetRaidersAlive = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_TOTAL_RAIDERS DoVariable:get_raiders_alive
IsTandiAlive = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_TANDI_HIRELING_STATUS IfOperatorName:Lower IfOperatorValue:3 DoVariable:is_tandi_alive DoOperatorsClear
IsAradeshAlive = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_ARADESH_STATUS IfOperatorName:Equals IfOperatorValue:0 DoVariable:is_aradesh_alive DoOperatorClear
IsKillianAlive = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_KILLIAN_DEAD IfOperatorName:Equals IfOperatorValue:0 DoVariable:is_killian_alive DoOperatorClear
IsGizmoAlive = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_GIZMO_DEAD IfOperatorName:Equals IfOperatorValue:0 DoVariable:is_gizmo_alive DoOperatorClear
IsRhombusAlive = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_RHOMBUS_STATUS IfOperatorName:Equals IfOperatorValue:0 DoVariable:is_rhombus_alive DoOperatorClear
IsGarlAlive = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_GARL_DEAD IfOperatorName:Equals IfOperatorValue:0 DoVariable:is_garl_alive DoOperatorClear
#
# misc gl_worldmap.h macros
#
IsTerrainDesert = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_WORLDMAP_TERRAIN IfOperatorName:Equals IfOperatorValue:WORLDMAP_TERRAIN_DESERT DoVariable:is_terrain_desert
IsTerrainCity = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_WORLDMAP_TERRAIN IfOperatorName:Equals IfOperatorValue:WORLDMAP_TERRAIN_CITY DoVariable:is_terrain_desert
IsTerrainMountain = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_WORLDMAP_TERRAIN IfOperatorName:Equals IfOperatorValue:WORLDMAP_TERRAIN_MOUNTAIN DoVariable:is_terrain_mountain
IsTerrainOcean = RunAfter IfFunction:global_var IfArgumentIs:0,GVAR_WORLDMAP_TERRAIN IfOperatorName:Equals IfOperatorValue:WORLDMAP_TERRAIN_OCEAN DoVariable:is_terrain_ocean

[Script:Minimize:HasTrait]
#
# get_perk/get_trait
#
GetPerk  = RunAfter:90 IfFunction:has_trait IfArgumentIs:0,TRAIT_PERK DoNameSet:get_perk DoArgumentsErase:0
GetTrait = RunAfter:90 IfFunction:has_trait IfArgumentIs:0,TRAIT_TRAIT DoNameSet:get_trait DoArgumentsErase:0
#
# dude_perk/dude_trait
#
DudePerk  = RunAfter:90 IfFunction:get_perk IfArgumentValue:0,dude_obj DoNameSet:dude_perk DoArgumentsErase:0
DudeTrait = RunAfter:90 IfFunction:get_trait IfArgumentIs:0,dude_obj DoNameSet:dude_trait DoArgumentsErase:0
#
# self_perk/self_trait
#
SelfPerk  = RunAfter:90 IfFunction:get_perk IfArgumentValue:0,self_obj DoNameSet:self_perk DoArgumentsErase:0
SelfTrait = RunAfter:90 IfFunction:get_trait IfArgumentIs:0,self_obj DoNameSet:self_trait DoArgumentsErase:0
#
# get_ai/get_team
#
GetAI   = RunAfter IfFunction:has_trait IfArgumentIs:0,TRAIT_OBJECT IfArgumentIs:2,OBJECT_AI_PACKET DoNameSet:get_ai DoArgumentsMoveFront:1 DoArgumentsResize:1
GetTeam = RunAfter IfFunction:has_trait IfArgumentIs:0,TRAIT_OBJECT IfArgumentIs:2,OBJECT_TEAM_NUM DoNameSet:get_team DoArgumentsMoveFront:1 DoArgumentsResize:1
#
# self_ai/self_team
#
SelfAI   = RunAfter IfFunction:get_ai IfArgumentValue:0,self_obj DoVariable:self_ai
SelfTeam = RunAfter IfFunction:get_team IfArgumentValue:0,self_obj DoVariable:self_team
#
# get_cur_rot/dude_cur_rot/self_cur_rot
#
GetCurRot  = RunAfter IfFunction:has_trait IfArgumentIs:0,TRAIT_OBJECT IfArgumentIs:2,OBJECT_CUR_ROT DoNameSet:get_cur_rot DoArgumentsMoveFront:1 DoArgumentsResize:1
DudeCurRot = RunAfter IfFunction:get_cur_rot IfArgumentValue:0,dude_obj DoVariable:dude_cur_rot
SelfCurRot = RunAfter IfFunction:get_cur_rot IfArgumentValue:1,self_obj DoVariable:self_cur_rot

[Script:Minimize:ItemCapsAdjust]
DudeCapsAdjust = RunAfter IfFunction:item_caps_adjust IfArgumentValue:0,dude_obj DoNameSet:dude_caps_adjust DoArgumentsErase:0
SelfCapsAdjust = RunAfter IfFunction:item_caps_adjust IfArgumentValue:0,self_obj DoNameSet:self_caps_adjust DoArgumentsErase:0

[Script:Minimize:ItemCapsTotal]
DudeCaps = RunAfter IfFunction:item_caps_total IfArgumentValue:0,dude_obj DoVariable:dude_caps DoRestart
SelfCaps = RunAfter IfFunction:item_caps_total IfArgumentValue:0,self_obj DoVariable:self_caps DoRestart

[Script:Minimize:ObjArtFid]
DudeFid = RunAfter IfFunction:obj_art_fid IfArgumentValue:0,dude_obj DoVariable:dude_fid DoRestart
SelfFid = RunAfter IfFunction:obj_art_fid IfArgumentValue:0,self_obj DoVariable:self_fid DoRestart

[Script:Minimize:ObjCarrying]
#
# get_item/get_item_count
#
GetItem      = RunAfter:90 IfFunction:obj_carrying_pid_obj DoNameSet:get_item
GetItemCount = RunAfter:90 IfFunction:obj_is_carrying_obj_pid DoNameSet:get_item_count
#
# get_item_count(cr,PID_BOTTLE_CAPS) -> item_caps_total(cr)
#
ItemCapsTotal = RunAfter:90 IfFunction:get_item_count IfArgumentIs:1,PID_BOTTLE_CAPS DoNameSet:item_caps_total DoArgumentsResize:1
#
# dude_item/dude_item_count
#
DudeItem      = RunAfter:90 IfFunction:get_item IfArgumentValue:0,dude_obj DoNameSet:dude_item DoArgumentsErase:0
DudeItemCount = RunAfter:90 IfFunction:get_item_count IfArgumentValue:0,dude_obj DoNameSet:dude_item_count DoArgumentsErase:0
#
# self_item/self_item_count
#
SelfItem      = RunAfter:90 IfFunction:get_item IfArgumentValue:0,self_obj DoNameSet:self_item DoArgumentsErase:0
SelfItemCount = RunAfter:90 IfFunction:get_item_count IfArgumentValue:0,self_obj DoNameSet:self_item_count DoArgumentsErase:0
#
# revert (dude|self)_item_count( PID_BOTTLE_CAPS ) -> item_caps_total
#
Revert:DudeItemCountCaps = RunAfter:95 IfFunction:dude_item_count IfArgumentIs:0,PID_BOTTLE_CAPS DoNameSet:item_caps_total DoArgumentsPushFront:dude_obj
Revert:SelfItemCountCaps = RunAfter:95 IfFunction:self_item_count IfArgumentIs:0,PID_BOTTLE_CAPS DoNameSet:item_caps_total DoArgumentsPushFront:self_obj

[Script:Minimize:ObjName]
#
# dude_name/self_name
#
DudeName = RunAfter IfFunction:obj_name IfArgumentValue:0,dude_obj DoVariable:dude_name
SelfName = RunAfter IfFunction:obj_name IfArgumentValue:0,self_obj DoVariable:self_name

[Script:Minimize:ObjPid]
SelfPid = RunAfter IfFunction:obj_pid IfArgumentValue:0,self_obj DoVariable:self_pid

[Script:Minimize:TileNum]
#
# dude_tile/self_tile
#
DudeTile = RunAfter IfFunction:tile_num IfArgumentValue:0,dude_obj DoVariable:dude_tile
SelfTile = RunAfter IfFunction:tile_num IfArgumentValue:0,self_obj DoVariable:self_tile

[Script:Minimize:UsingSkill]
#
# dude_is_sneaking/self_is_sneaking
#
DudeIsSneaking = RunAfter IfFunction:using_skill IfArgumentValue:0,dude_obj IfArgumentIs:1,SKILL_SNEAK DoVariable:dude_is_sneaking
SelfIsSneaking = RunAfter IfFunction:using_skill IfArgumentValue:0,self_obj IfArgumentIs:1,SKILL_SNEAK DoVariable:self_is_sneaking

###########################################################################

[Script:Minimize:Gender]
#
# dude_GENDER
#
DudeGender = RunAfter IfFunction:get_gender IfArgumentValue:0,dude_obj DoVariable:dude_gender
DudeIsMale = RunAfter IfFunction:get_is_male IfArgumentValue:0,dude_obj DoVariable:dude_is_male
DudeIsFemale = RunAfter IfFunction:get_is_female IfArgumentValue:0,dude_obj DoVariable:dude_is_female
#
# self_GENDER
#
SelfGender = RunAfter IfFunction:get_gender IfArgumentValue:0,self_obj DoVariable:self_gender
SelfIsMale = RunAfter IfFunction:get_is_male IfArgumentValue:0,self_obj DoVariable:self_is_male
SelfIsFemale = RunAfter IfFunction:get_is_female IfArgumentValue:0,self_obj DoVariable:self_is_male

[Script:Minimize:Perk]
#
# dude_PERK
#
DudeMentalBlock   = RunAfter IfFunction:dude_perk IfArgumentIs:0,PERK_mental_block DoVariable:dude_mental_block
DudePresence      = RunAfter IfFunction:dude_perk IfArgumentIs:0,PERK_presence DoVariable:dude_presence
DudeAwareness     = RunAfter IfFunction:dude_perk IfArgumentIs:0,PERK_bonus_awareness DoVariable:dude_awareness
DudeFortuneFinder = RunAfter IfFunction:dude_perk IfArgumentIs:0,PERK_fortune_finder DoVariable:dude_fortune_finder
DudeSmoothTalker  = RunAfter IfFunction:dude_perk IfArgumentIs:0,PERK_smooth_talker DoVariable:dude_smooth_talker
#
# self_PERK
#
SelfMentalBlock   = RunAfter IfFunction:self_perk IfArgumentIs:0,PERK_mental_block DoVariable:self_mental_block
SelfPresence      = RunAfter IfFunction:self_perk IfArgumentIs:0,PERK_presence DoVariable:self_presence
SelfAwareness     = RunAfter IfFunction:self_perk IfArgumentIs:0,PERK_bonus_awareness DoVariable:self_awareness
SelfFortuneFinder = RunAfter IfFunction:self_perk IfArgumentIs:0,PERK_fortune_finder DoVariable:self_fortune_finder
SelfSmoothTalkert = RunAfter IfFunction:self_perk IfArgumentIs:0,PERK_smooth_talker DoVariable:self_smooth_talker

[Script:Minimize:SPECIAL]
#
# dude_SPECIAL
#
DudeStrength   = RunAfter IfFunction:get_strength IfArgumentValue:0,dude_obj DoVariable:dude_strength
DudePerception = RunAfter IfFunction:get_perception IfArgumentValue:0,dude_obj DoVariable:dude_perception
DudeEndurance  = RunAfter IfFunction:get_endurance IfArgumentValue:0,dude_obj DoVariable:dude_endurance
DudeCharisma   = RunAfter IfFunction:get_charisma IfArgumentValue:0,dude_obj DoVariable:dude_charisma
DudeIQ         = RunAfter IfFunction:get_iq IfArgumentValue:0,dude_obj DoVariable:dude_iq
DudeAgility    = RunAfter IfFunction:get_agility IfArgumentValue:0,dude_obj DoVariable:dude_agility
DudeLuck       = RunAfter IfFunction:get_luck IfArgumentValue:0,dude_obj DoVariable:dude_luck
#
# self_SPECIAL
#
SelfStrength   = RunAfter IfFunction:get_strength IfArgumentValue:0,self_obj DoVariable:self_strength
SelfPerception = RunAfter IfFunction:get_perception IfArgumentValue:0,self_obj DoVariable:self_perception
SelfEndurance  = RunAfter IfFunction:get_endurance IfArgumentValue:0,self_obj DoVariable:self_endurance
SelfCharisma   = RunAfter IfFunction:get_charisma IfArgumentValue:0,self_obj DoVariable:self_charisma
SelfIQ         = RunAfter IfFunction:get_iq IfArgumentValue:0,self_obj DoVariable:self_iq
SelfAgility    = RunAfter IfFunction:get_agility IfArgumentValue:0,self_obj DoVariable:self_agility
SelfLuck       = RunAfter IfFunction:get_luck IfArgumentValue:0,self_obj DoVariable:self_luck
#
# extras
#
DudeIsStupid   = RunAfter IfVariable:dude_iq IfOperatorName:LowerEquals IfOperatorValue:3 DoNameSet:dude_is_stupid DoOperatorClear

[Script:Minimize:HitPoints]
#
# dude_cur_hp/dude_max_hp
#
DudeCurHp = RunAfter IfFunction:get_cur_hp IfArgumentValue:0,dude_obj DoVariable:dude_cur_hp
DudeMaxHp = RunAfter IfFunction:get_max_hp IfArgumentValue:0,dude_obj DoVariable:dude_max_hp
#
# self_cur_hp/self_max_hp
#
SelfCurHp = RunAfter IfFunction:get_cur_hp IfArgumentValue:0,self_obj DoVariable:self_cur_hp
SelfMaxHp = RunAfter IfFunction:get_max_hp IfArgumentValue:0,self_obj DoVariable:self_max_hp

###########################################################################

[Script:Counters]
#GVAR = RunAfter:999 IfFunction:global_var,set_global_var DoArgumentCount:0,GVAR
#AllFunctions = RunAfter:999 IfFunction DoNameCount:AllFunctions

[Script:Detect]
#
# gender
#
Gender:Crit = RunAfter:9999 IfVariable:get_gender,dude_gender,self_gender IfOperator DoLogCurrentLine:DEBUG
Gender:GetCritterStat = RunAfter:9999 IfFunction:get_critter_stat IfArgumentIs:1,STAT_gender DoLogCurrentLine:DEBUG
#
# misc
#
#AttackComplex = RunAfter:9999 IfFunction:attack_complex DoLogCurrentLine
#CurMapIndexEquals = RunAfter:9999 IfVariable:cur_map_index IfOperatorName:Equals DoLogCurrentLine
#GetCritterStat = RunAfter:9999 IfFunction:get_critter_stat DoLogCurrentLine
Metarule = RunAfter:9999 IfFunction:metarule,metarule2,metarule2_explosions,metarule3 DoLogCurrentLine
SfallFunc = RunAfter:9999 IfFunction:sfall_func0,sfall_func1,sfall_func2,sfall_func3,sfall_func4,sfall_func5,sfall_func6 DoLogCurrentLine
WorldmapTerrain = RunAfter:9999 IfFunction:global_var IfArgumentIs:0,GVAR_WORLDMAP_TERRAIN IfOperator DoLogCurrentLine
#SCRIPT_MODREACT = RunAfter:9999 IfFunction:giq_option IfArgumentIs:1,SCRIPT_MODREACT IfNotEdited DoLogCurrentLine
#SCRIPT_GENCHAT =  RunAfter:9999 IfFunction:giq_option IfArgumentIs:1,SCRIPT_GENCHAT IfNotEdited DoLogCurrentLine
