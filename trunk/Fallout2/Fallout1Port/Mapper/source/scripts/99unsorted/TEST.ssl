#include "..\headers\command.h"
#include "..\headers\define.h"
#include "..\headers\sfall\main.h"

#define set_lootable(PID)     set_proto_data(PID, PROTO_CR_FLAGS, get_proto_data(PID, PROTO_CR_FLAGS) bwand bwnot(CFLG_NOSTEAL))
#define set_unlootable(PID)   set_proto_data(PID, PROTO_CR_FLAGS, get_proto_data(PID, PROTO_CR_FLAGS) bwor CFLG_NOSTEAL)

procedure start;
procedure map_enter_p_proc;

procedure start;

procedure destroy_p_proc begin
   variable tail := 0;

   if (has_trait(TRAIT_PERK,dude_obj,PERK_gecko_skinning_perk)) then begin
      tail := create_object(PID_GECKO_PELT,0,0);
      add_obj_to_inven(self_obj,tail);
      set_proto_data(obj_pid(self_obj), PROTO_CR_FLAGS, get_proto_data(obj_pid(self_obj), PROTO_CR_FLAGS) bwand bwnot(CFLG_NOSTEAL));
   end else begin
      set_proto_data(obj_pid(self_obj), PROTO_CR_FLAGS, get_proto_data(obj_pid(self_obj), PROTO_CR_FLAGS) bwor CFLG_NOSTEAL);
   end
end

procedure look_at_p_proc begin
   debug("my pid is: " + self_pid);
end

procedure map_enter_p_proc begin
end

procedure start begin
end

