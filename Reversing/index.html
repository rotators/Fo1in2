<html>
<head>
    <title>Fallout reversing and docs.</title>
    <link rel="stylesheet" href="style.css" type="text/css" />
</head>
<body>
    <div style="border: 2px solid #535b5aba; padding: 25px; background-color: #2f332d; width: 200px; float: left; margin-bottom: 10px; position: fixed;">
        <ol>
        <li><a href="#fo2exe">Fallout2.exe</a></li>
        <li><a href="#formats">File formats</a></li>
        <li><a href="#watcom">Watcom</a></li>
        <li><a href="#asm">ASM</a></li>
        <li><a href="#revtools">Reversing tools</a></li>
        <li><a href="#ida">IDA</a></li>
        <li><a href="#fo2tools">Fallout 2 tools</a></li>
        <li><a href="#sfall">sfall</a>
            <ul style="padding-left: 20px;">
            <li><a href="#sfall-bin">Binary distros</a></li>
            <li><a href="#sfall-src">Source code</a></li>
            <li><a href="#sfall-dx">DirectX stuff</a></li>
            <li><a href="#sfall-dev">sfall dev</a></li>
            </ul>
        </li>
        <li><a href="#misc">Misc</a></li>
        <li><a href="#buy">Buy</a></li>
		<li><a href="#buy">Notes</a></li>
        </ol>
    </div>
    <div id="main">
        <div>
            <h1>Fallout reversing and docs</h1>      
            <h2 id="fo2exe">Fallout2.exe</h2>
            <a href="structs.html">Structures</a><br/>
            <a href="symbols.html">Offsets</a><br/>
            <a href="https://rotators.fodev.net/ghosthack/scrapheap/reversing/ida/Fallout_1_and_2_IDA68.rar">Fallout_1_and_2_IDA68.rar - IDA database</a>
            <h2 id="formats">File formats</h2>
			<table style="font-size: 12px;">
			<thead><tr><th>Format</th><th>Tools</th></tr></thead>
				<tr>
					<td><a href="ai_txt.html">AI.TXT - Description of combat parameters for the player and all NPC classes in the game</a></td>
					<td><a href="https://www.nma-fallout.com/resources/fallout-2-proto-manager.73/">Fallout 2 - Proto Manager</a></td>
				</tr>
				<tr>
					<td><a href="http://falloutmods.wikia.com/wiki/ACM_File_Format">ACM - Compressed audio format by Interplay</a></td>
					<td>Use <a href="https://github.com/markokr/libacm">libacm</a>, 
					<a href="https://fodev.net/files/mirrors/teamx-utils/acm2wav.rar">acm2wav</a> or <a href="https://fodev.net/files/archive/gap.zip"  style="display: inline">Game Audio Player</a> for playback.</td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/AAF_File_Format">AAF - The AAF Font File Format is used to store fonts.</a></td>
					<td><a href="https://fodev.net/files/mirrors/teamx-utils/FSB_0.21.rar">Fallout Service Box: Font Editor</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/AAF_File_Format">BIO - Story for premade characters (GCD).</a></td>
					<td>Texteditor</td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.wikia.com/wiki/DAT_file_format">DAT - DAT files are archive files in which most of the files used in Fallout and Fallout 2 are stored.</a></td>
					<td><a href="https://fodev.net/files/mirrors/teamx-utils/dat_explorer.rar">Dat Explorer 1.43</a>, <a href="https://fodev.net/files/mirrors/teamx-utils/!_INDEX_en.html#dat">many others</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/FON_File_Format">FON - Fonts used for text on the world map</a></td>
					<td><a href="https://fodev.net/files/mirrors/teamx-utils/fonedit1.0.rar" style="display: inline">FON editor</a></td>
				</tr>
				<tr>
					<td><a href="https://fallout.gamepedia.com/FRM_files">FRM - FRM files are unpaletted 256-color image files containing either one or several images in one file</a></td>
					<td><a href="https://fodev.net/files/archive/fo2/Titanium%20FRM%20Browser%201.3%20(en).zip" style="display: inline">Titanium FRM browser</a>, <a href="https://fodev.net/files/mirrors/teamx-utils/viewer.rar" style="display: inline">Graphics viewer 1.36</a> <a href="https://fodev.net/files/mirrors/teamx-utils/!_INDEX_en.html#graphics">and many others.</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/INT_File_Format">INT - Compiled script file</a>
					<td>use int2ssl.exe included in <a href="https://sourceforge.net/projects/sfall/files/Modders%20pack/modderspack_4.2.1.7z/download">sfall modderspack</a> to decompile.<a href="#no-1">[1]</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/GCD_File_Format">GCD File Format - Premade characters.</a></td>
					<td></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.wikia.com/wiki/GAM_File_Format">GAM - GAM files are indexed text files. They contain global variables for each core Fallout game and its maps</a></td>
					<td>Texteditor</td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/LIP_File_Format">LIP File Format - Used for talking heads.</a></td>
					<td><a href="https://fodev.net/files/mirrors/teamx-utils/LIPEditor0.96b.rar">LIP editor</a>, <a href="https://fodev.net/files/mirrors/teamx-utils/wav2lip.rar">wav2lip</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.wikia.com/wiki/LST_File_Format">LST - LST files are simple text files, each line is terminated with CRLF ("\r\n").</a></td>
					<td></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/MAP_File_Format">MAP - Maps used for locations.</a></td>
					<td><a href="https://www.nma-fallout.com/resources/bis-mapper.55/">Patched BIS mapper</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/MAP_File_Format">MSK - Masks for the worldmap which mark the territory that is impassible for the player.</a></td>
					<td><a href="https://fodev.net/files/mirrors/teamx-utils/MSKTools.rar">MSK tools</a>, <a href="https://fodev.net/files/mirrors/teamx-utils/msk2bmp.rar">msk2bmp</a> </td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.wikia.com/wiki/PAL_File_Format">PAL - Palette file, used for rendering FRM data with the correct colors.</a></td>
					<td></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.wikia.com/wiki/PRO_File_Format">PRO - Prototype, every item, critter, wall, tile, and piece of scenery has its own corresponding PRO file.</a></td>
					<td><a href="https://www.nma-fallout.com/resources/fallout-2-proto-manager.73/">Fallout 2 - Proto Manager</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/RIX_File_Format">RIX - Format for splashscreen, located in master.dat/ART/SPLASH</a></td>
					<td><a href="https://fodev.net/files/mirrors/teamx-utils/viewer.rar" style="display: inline">Graphics viewer 1.36 to load/save</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/MVE_File_Format">MVE - Movie files, used for intro/outros, cutscenes.</a></td>
					<td><a href="https://fodev.net/files/mirrors/teamx-utils/!_INDEX_en.html#video">Various</a></td>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/SVE_File_Format">SVE File Format - Subtitles for MVE movies.</a></td>
					<td>Texteditor</a>
				</tr>
				<tr>
					<td><a href="https://falloutmods.fandom.com/wiki/Worldmap.dat_File_Format">Worldmap.dat</a></td>
				</tr>
			</table>

            <h2 id="watcom">Watcom</a></h2>
            <div>
            <p><a href="https://en.wikipedia.org/wiki/Watcom_C/C%2B%2B">Watcom</a> is the compiler that was used to compile both Fallout 1 and 2.</p>
            <p>Watcom does not support the __fastcall keyword except to alias it to null. The register calling convention may be selected by command line switch. (However, IDA uses __fastcall anyway for uniformity.)</p>
            <p>Up to 4 registers are assigned to arguments in the order eax, edx, ebx, ecx. Arguments are assigned to registers from left to right.</p>
            <p>If any argument cannot be assigned to a register (say it is too large) it, and all subsequent arguments, are assigned to the stack. Arguments assigned to the stack are pushed from right to left. Names are mangled by adding a suffixed underscore.</p>
            <p>
                eax->func(edx, ebx, ecx, push...)<br/>
                func(eax, edx, ebx, ecx, push...)
            </p>
            <p><a href="https://web.archive.org/web/20150503230850/http://openwatcom.org/index.php/Calling_Conventions#Specifying_Calling_Conventions">Read more</a></p>
            </div>
            
            <h2 id="asm">ASM</h2>
            <a href="https://c9x.me/x86/">x86 reference</a><br/>
            <a href="https://www.felixcloutier.com/x86/">x86 and amd64 instruction reference</a><br/>
            <a href="https://defuse.ca/online-x86-assembler.htm">Online x86 / x64 Assembler and Disassembler</a><br/>
            
            <h2 id="revtools">Reversing tools</h2>
            <a href="http://www.ollydbg.de/">OllyDBG</a><br/>
            <a href="https://x64dbg.com/">x64dbg</a><br/>
            <a href="http://heaventools.com/overview.htm">PE explorer</a><br/>
            <a href="https://mh-nexus.de/en/hxd/">HxD - Freeware Hex Editor and Disk Editor</a><br/>
            <a href="https://nirsoft.net/utils/dll_export_viewer.html">DLL Export Viewer v1.66</a> <br/>
            <a href="https://github.com/NtQuery/Scylla">Scylla - Imports viewer</a><br/>
            <a href="https://github.com/nlitsme/pyidbutil">idbutil - Tool for dumping data from IDA pro databases</a></p><br/>
            
            <h2 id="ida">IDA database</h2>
            <p><a href="https://rotators.fodev.net/ghosthack/scrapheap/reversing/ida/Fallout_1_and_2_IDA68.rar">Fallout_1_and_2_IDA68.rar</a>
            <p><a href="https://rotators.fodev.net/ghosthack/scrapheap/reversing/ida/idbtool.exe">idbtool.exe</a></p>
            <p>
                <code>idbtool.exe --enums Fallout2.idb > enums.txt</code><br/>
                <code>idbtool.exe --names Fallout2.idb > names.txt</code>
            </p>

            <h2 id="fo2tools">Fallout 2 tools</h2>
            <a href="https://nma-fallout.com/resources/categories/fallout-2.5/">Fallout 2 @ NMA</a>
            <a href="https://fodev.net/files/mirrors/teamx-utils/!_INDEX_en.html">Team-X Utilities</a>
            <table style="margin: 20px; margin-top: 30px; margin-bottom: 30px;">
                <thead><tr><th>Tool</th><th>Author</th><th>Description</th></tr></thead>
                <tr>
                    <td><a href="https://nma-fallout.com/resources/sfall-script-editor.77/">Sfall Script Editor</a></td>
                    <td>Sfall team</td>
                    <td>Allows to edit and compile SSL scripts in a convenient way.</td>
                </tr>
                <tr>
                    <td><a href="https://fodev.net/files/mirrors/teamx-utils/dat_explorer.rar">Dat Explorer 1.43</a></td>
                    <td>Dims</td>
                    <td>DAT file packer / unpacker. With a graphical interface.</td>
                </tr>
            </table>

            <h2 id="sfall">Sfall</a></h2>
			<p>A set of engine modifications that greatly enhances the engine. Includes fixes for bugs in the original engine, allows fallout to run correctly on modern operating systems, and adds additional features for modders.</p>
            <h3 id="sfall-bin">Binary distros</h3>
            <a href="https://sourceforge.net/projects/sfall/files/sfall/">Sourceforge</a>
            <h3 id="sfall-src">Source code</h3>
            
            Check out the code from the <a href="https://github.com/phobos2077/sfall" style="display: inline">main repo</a> or <a href="https://github.com/rotators/sfall" style="display: inline">rotators repo</a>.</p>
            <p><code>git clone https://github.com/phobos2077/sfall.git src</code></p>
            <h3 id="sfall-dx">DirectX stuff</h3>
            <div>
                <p>Main DX needed is <a href="https://www.microsoft.com/en-us/download/details.aspx?id=6812" style="display: inline">DirectX june 2010</a>.</p>
                <p>dinput.lib from <a href="https://www.microsoft.com/en-us/download/details.aspx?id=13287" style="display: inline">DirectX august 2007 needed</a>, also available at <a href="https://rotators.fodev.net/ghosthack/scrapheap/sfall_dx/dinput.lib" style="display: inline">fodev.net</a></p>
            </div>
            <h3 id="sfall-dev">sfall dev</h3>
            <div>
                <ul style="text-align: left;">
				<li><a href="https://fakelshub.github.io/sfall-documentation/">Documentation</a>
                <li><a href="http://timeslip.chorrol.com/">Timeslip @ Choroll - Original sfall dev</a></li>
                <li><a href="http://nma-fallout.com/threads/fo2-engine-tweaks-sfall.178390/">FO2 Engine Tweaks (Sfall) @ NMA</a></li>
                <li><a href="http://fforum.kochegarov.com/index.php?showtopic=29288">Sfall 1</a></li>
                <li><a href="https://discord.gg/VgcmJCN">NMA discord</a></li>
                <li>Github: <a href="https://github.com/phobos2077">@phobos2077</a>
                    <a href="https://github.com/Sduibek">@Sduibek</a>
                    <a href="https://github.com/NovaRain">@NovaRain
                    <a href="https://github.com/FakelsHub">@FakeIsHub</a>
                <ul>
            </div>

            <h2 id="misc">Misc</h2>
            <div>
                <ul style="text-align: left;">
                    <li><a href="https://www.youtube.com/watch?v=T2OxO-4YLRk">GDC - Classic Game Postmortem: Fallout</a></li>
                    <li><a href="https://twinysam.github.io/fallout2guide/">The Nearly Ultimate Fallout 2 Guide</a></li>
                    <li><a href="https://fallout.fandom.com/wiki/Fallout_Bible">Fallout Bible</a></li>
                <ul>
            </div>

            <h2 id="buy">Buy</h2>
            <div>
                <ul style="text-align: left;">
                    <li><a href="https://www.gog.com/game/fallout_2">Fallout @ GOG</a></li>
                    <li><a href="https://steamdb.info/app/38400/">Fallout @ SteamDB</a></li>
                    <li><a href="https://www.gog.com/game/fallout_2">Fallout 2 @ GOG</a></li>
                    <li><a href="https://steamdb.info/app/38410/">Fallout 2 @ SteamDB</a></li>
                </ul>
            </div>
			
			<h2 id="notes">Notes</h2>
			<div style="font-size:11px;">
			<p id="no-1">1. There's also https://github.com/FakelsHub/int-sslc which is what sFall ScriptEditor uses; while int2ssl.exe is not in ScriptEditor repo, it's included in release package (renamed to compile.exe)</p>
			</div>
        </div>
    </div>
</body>
</html>