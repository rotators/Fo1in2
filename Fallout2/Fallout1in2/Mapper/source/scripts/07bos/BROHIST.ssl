#include "..\headers\define.h"

procedure start;
procedure MsgCheck;
// lvar0 == alreadyhave
//lvar1 == haveitem description

procedure start
begin
   call MsgCheck;
   if ((script_action == look_at_proc) or (script_action == description_proc)) then begin// 21 is look_at, 3 is description (Binoculars)   //NEED TO FIX THIS, DUPLICATE DESCRIPTIONS IS BULLSHIT. --Sduibek
      script_overrides;
      call MsgCheck;
      display_msg(message_str(SCRIPT_ARTIFACT, 105));
   end
   else begin
      if (script_action == use_proc) then begin//use_p_proc - Use, Activate, or Manipulate the Object or Item
         script_overrides;
         call MsgCheck;
         if (local_var(0) == 1) then begin
            display_msg(message_str(SCRIPT_ARTIFACT, 101));
         end
         else begin
            set_local_var(0, 1);
            display_msg(message_str(SCRIPT_ARTIFACT, 102));
            set_global_var(GVAR_HOLODISK_BROTHER_HISTORY, 1);
            display_msg(gen_mstr(103) + "100" + gen_mstr(104));
            give_exp_points(100);
         end
      end
   end
end

procedure MsgCheck
begin
   if not(local_var(1)) then begin
      set_local_var(1, 1);
      ////display_msg("INIT_BROHIST.SSL - please tell Sduibek when and where you saw this message. Thank you!");
      debug_msg("INIT_BROHIST.SSL - please tell Sduibek when and where you saw this message. Thank you!");
   end
end
